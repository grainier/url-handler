#!/bin/bash
set -e

APP_NAME="RDPURLHandler.app"
APP_PATH="/Applications/$APP_NAME"

# Register the application as the handler for 'rdp' URL scheme
echo "Registering $APP_NAME as the handler for rdp:// URLs."

# Use the lsregister command to update the Launch Services database
/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -f "$APP_PATH"

echo "Registration complete."

exit 0
